@model IsmIoTPortal.Models.IsmDevice

@{
    ViewBag.Title = "Firmware Update Log";
}

<h2>Firmware Update Log</h2>

<div>
    <h4>Last Firmware Update Log for @Model.DeviceId</h4>
    @{
        var log = Model.UpdateLogs.OrderByDescending(l => l.Date).FirstOrDefault();
        if(log == null)
        {
            <h3>@Model.DeviceId hasn't been updated yet.</h3>
        }
        else
        {
            <h3>Log for Update to @Model.Software.Name on @log.Date</h3>
            <hr />
            <div style="font-family:monospace; white-space: pre-line">
                @log.LogData
            </div>
        }

    }
    <hr />
</div>
<p>
    @Html.ActionLink("Back to Details", "Details", new { id = Model.IsmDeviceId })
</p>
